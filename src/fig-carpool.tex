\newcommand{\edge}[3]{
	\draw (#1) -- (#2) node[label above] {#3};
}
\subfloat[]{
\label{subfloat:input}
\begin{tikzpicture}[every node/.style={default node}, ->, very thick]

\node(1) at(-1,3) {2};
\node(2) at(.5,.5) {3};
\node(3) at(-1,0) {1};
\node(4) at(-1,1) {3};
\node(5) at(-2,2) {0};
\node(6) at(-2,-1) {4};
\node(7) at(-3,0) {3};
\node(8) at(.5,-1) {2};
\node(9) at(0,2) {1};
\node(10) at(2,1) {4};

\edge{1}{4}{3}
\edge{2}{4}{4}
\edge{3}{4}{5}

\edge{5}{7}{2}
\edge{6}{7}{4}

\edge{8}{10}{6}
\edge{9}{10}{2}

\edge{1}{5}{4}
\edge{4}{5}{4}

\edge{2}{3}{2}
\edge{6}{3}{2}
\edge{7}{3}{2}

\edge{8}{2}{1}
\edge{10}{2}{1}

\edge{3}{8}{3}
\edge{8}{3}{3}

\edge{1}{9}{1}
\edge{4}{9}{1}

\end{tikzpicture}}
\hfill\subfloat[]{
\label{subfloat:output}
\begin{tikzpicture}[every node/.style={default node}, ->, very thick]

\begin{scope}[every node/.style={default node, draw=blue}]
\node(5) at(-2,2) {0};
\node(6) at(-2,-1) {4};

\node(2) at(.5,.5) {3};
\node(3) at(-1,0) {1};
\node(1) at(-1,3) {2};

\node(8) at(.5,-1) {2};
\node(9) at(0,2) {1};
\end{scope}

\begin{scope}[every node/.style={default node, draw=red, dashed}]
\node(7) at(-3,0) {3};

\node(4) at(-1,1) {3};

\node(10) at(2,1) {4};
\end{scope}


\edge{1}{4}{3}
\edge{2}{4}{4}
\edge{3}{4}{5}

\edge{5}{7}{2}
\edge{6}{7}{4}

\edge{8}{10}{6}
\edge{9}{10}{2}

\end{tikzpicture}}
