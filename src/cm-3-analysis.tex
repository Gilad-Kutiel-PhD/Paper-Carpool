We now show that our Algorithm~\ref{alg:cm3} achieves a 3-approximation ratio.
Once again, we limit, without loss of generality, our analysis to a single connected component.

First, observe that the value of a maximum super matching is an upper bound on the value
of a maximum matching.
Let $(V, E)$ be the connected component, $(V, E')$ be the maximum layered spanning graph, 
and 
$$ M = \argmax_{E'' \in \{ E'_{even}, E'^{odd} \}}{w(E'')} $$

\begin{lemma}
\label{lm:more_than_e}
$w(M) \geq w(E) - w(E')$
\end{lemma}

\begin{proof}
Recall that $E = E' \cup \{e\}$, and that $e$ is the lightest edge on some cycle in $(V, E)$ 
\end{proof}

\begin{theorem}
Algorithm~\ref{alg:cm3} achieves a 3-approximation ratio.
\end{theorem}

\begin{proof}
From Observation~\ref{ob:geq_half} and Lemma~\ref{lm:more_than_e} we get that
$$ 2w(E'') + w(E'') \geq w(E') + w(E) - w(E') = w(E) $$.
\end{proof}

\begin{figure}
\centering
\input{fig-3cm-tight}
\caption{
\label{fig:3cm-tight-fig}
Super Matching Algorithm, worst case example
}
\end{figure}

To see that our analysis is tight, consider the example in Figure~\ref{fig:3cm-tight-fig},
assume, for the given graph in the figure, 
that all weights are 1 and that there is no capacity constraint.
The maximum matching, then, is 3 ($\{(1,4), (2,4), (3,4)\}$), 
but the algorithm can return the super matching $\{(1,2), (2,3), (3,1)\}$ from which, 
only one edge can survive.  